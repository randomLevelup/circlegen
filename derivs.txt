a = 1.0
b = pow( r, (2/3) ) (r=radius)
c = 0.27

dist2 = (cx - px) * (cx - px) + (cy - py) * (cy - py)
distc = sqrt( abs ( dist2 ) )
distnorm = exp(c * distc + b)

loss = a / ( 1 + exp( -c * abs(distc) - b ) )

d/dl = ( a * c * dist2 * distnorm ) / ( pow(abs(dist2), (3/2)) * pow(1 + distnorm, 2) )
dl/dx = (cx - px) d/dl
dl/dy = (cy - py) d/dl
dl/dr =  (2 * a * distnorm ) / ( 3 * cbrt(r) * pow(1 + distnorm, 2) )